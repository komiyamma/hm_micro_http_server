# HmMicroHttpServer

軽量・高速なC#製AOTマイクロHTTPサーバー

## 特徴

- .NET 9.0対応、AOTビルド済み（.NETランタイム不要）
- Windows向け単体実行ファイル
- 任意のディレクトリをWeb公開可能
- ポートは自動で空き番号を取得し、`localhost`で待ち受け
- SPA用途にも便利なindex.htmlフォールバック
- MIMEタイプ自動判定
- ウィンドウハンドル監視による自動終了（省略可）

## 使い方（Windows）

1. リリースファイル一式を任意のフォルダに展開
2. 公開したいディレクトリを用意（例: `www`）
3. コマンドプロンプトまたはPowerShellで実行

```
HmMicroHttpServer.exe [公開ディレクトリ] [ウィンドウハンドル(省略可)]
```

### 例

```
HmMicroHttpServer.exe www
```

引数を省略した場合は、実行ファイルと同じ階層の`www`フォルダが公開されます。

実行すると、実際にバインドされたポート番号と公開ディレクトリがコンソールに表示されます。

```
[INFO] Using port: 12345
Serving C:\path\to\www
 → http://localhost:12345/
```

ブラウザで上記URLにアクセスしてください。

> .NETランタイムは不要です。AOT（Ahead-Of-Time）コンパイル済みの実行ファイルのみで動作します。

### ウィンドウハンドル監視（省略可）

第2引数にウィンドウハンドル（数値）を指定すると、そのウィンドウが閉じられたタイミングでサーバも自動終了します。

## ライセンス

本プロジェクトはCC0ライセンスです。詳細はLICENSEファイルを参照してください。
